<div class="container space-top space-bottom">
    {{search-header title="Preprint Archive" subtitle="We got lots of preprints."}}
    {{search-preprints search="search"}}
</div>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <button type="button" class="btn btn-default" {{action "linkToAddPreprint"}}>Add your preprint</button>
        </div>
        <div class="col-md-6">
            <span class="pull-right">
                {{search-sortby select="sortBy"}}
            </span>
        </div>
    </div>
</div>

<hr>

<div class="container" id="browse">
    <div class="row">
        <div class="col-lg-4">
            <div id="activeFilters">
                {{#if showActiveFilters}}
                    <div class="row">
                        <div class="col-sm-6">
                            <h4>Active Filters:</h4>
                        </div>
                        <div class="col-sm-6">
                            <span class="pull-right">
                                <button type="button" class="btn btn-default" {{action "clearFilters"}}>Clear filters {{fa-icon "remove"}}</button>
                            </span>
                        </div>
                    </div>
                    <hr>
                    <ul id="activeFiltersList">
                        {{#each activeFilters as |filter|}}
                            <li>{{filter}}</li>
                        {{/each}}
                    </ul>
                {{/if}}
            </div>

            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4>Refine your search {{fa-icon "info-circle"}}</h4>
                </div>

                <div class="panel-body">
                    <div>
                        <h4>Subject</h4>
                        {{taxonomy-tree tree=model}}
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-8" id="searchResults">
            {{#if loading}}
                <div class="text-center">
                    {{fa-icon 'spinner' pulse=true size=3}}
                </div>
            {{else}}
                {{#if numberOfResults}}
                    {{#each results as |result|}}
                        {{search-result result=result}}
                    {{/each}}

                    <div class="row">
                        <div class="col-md-6">
                            {{#if showPrev}}
                                <button type="button" class="btn btn-default" {{action "previous"}}>Prev</button>
                            {{/if}}
                        </div>
                        <div class="col-md-6">
                            <span class="pull-right">
                                {{#if showNext}}
                                    <button type="button" class="btn btn-default" {{action "next"}}>Next</button>
                                {{/if}}
                            </span>
                        </div>
                    </div>
                {{else}}
                    <h2 class="text-muted text-center">No results found.</h2>
                {{/if}}
            {{/if}}
        </div>
    </div>
</div>
